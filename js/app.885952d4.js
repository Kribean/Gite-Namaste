(function(){"use strict";var e={1690:function(e,t,r){var s=r(9242),o=r(3396);const n=(0,o._)("h1",null,"Home",-1);function a(e,t){const r=(0,o.up)("router-link"),s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",null,[(0,o.Wm)(r,{to:"/"},{default:(0,o.w5)((()=>[n])),_:1})]),(0,o.Wm)(s)],64)}var i=r(89);const l={},c=(0,i.Z)(l,[["render",a]]);var p=c,u=r(678);const d={class:"container-fluid"},m={class:"row"},h=(0,o.uE)('<div class="row"><h2>Présentation</h2><div class="col-8"><p>Au coeur de la campagne du Volvestre, à 3/4 d&#39;heure de Toulouse sud, nous vous proposons un lieu exceptionnel, détente et calme assuré, vue sur les Pyrénées à 180°, sur 12 ha de vallons et cultures biologiques. Avec 1 salle à manger panoramique, une salle des fêtes de 80m² avec sono professionnelle, laser, billard, ping-pong, baby-foot, un parc arboré de 3000m², 1 piscine à débordement (12x6m), 5 chambres d&#39;hôtes tout confort avec sanitaires privatifs. Possibilité hébergement supplémentaire. Gestion libre week-end ou semaine.</p></div><div class="col-4"><img src="https://www.grandsgites.com/images/photos-gites/entete/gite-namaste2_gd.jpg" alt="gite namaste" class="img-thumbnail rounded"></div></div><hr class="my-4">',2),f={class:"row bg-secondary"},g=(0,o._)("h2",{class:"text-white"}," Es-tu admin? Si oui mets le mot de passe",-1),v={class:"form-group"},y=(0,o._)("label",{for:"isAdmin"},"Accès",-1),b=(0,o._)("p",{id:"isAdminErrorMsg"},null,-1),_=(0,o._)("hr",{class:"my-4"},null,-1),w={class:"row"},k=(0,o._)("h2",{id:"inscription"},"Inscription",-1),E={class:"formulaireIns"},A={class:"form-group"},M=(0,o._)("label",{for:"nom"},"Nom",-1),D=(0,o._)("p",{id:"nomErrorMsg"},null,-1),C={class:"form-group"},j=(0,o._)("label",{for:"prenom"},"Prenom",-1),x=(0,o._)("p",{id:"prenomErrorMsg"},null,-1),q={class:"form-group"},S=(0,o._)("label",{for:"pseudo"},"Pseudo",-1),z=(0,o._)("p",{id:"pseudoErrorMsg"},null,-1),U={class:"form-group"},V=(0,o._)("label",{for:"email"},"Votre email",-1),T=(0,o._)("p",{id:"emailErrorMsg"},null,-1),O={class:"form-group"},P=(0,o._)("label",{for:"music"},"Musique(s) que j'aime",-1),Z=(0,o._)("p",{id:"musicErrorMsg"},null,-1),W=(0,o._)("hr",{class:"my-4"},null,-1),I={class:"row",id:"listInscrit"},L=(0,o._)("h2",null,"Liste des participants",-1),H=(0,o._)("hr",{class:"my-4"},null,-1),N={class:"row"},$=(0,o._)("h2",null,"Proposer un service, une activité",-1),B={class:"formulaireWork",id:"atelierEtService"},J={class:"form-group"},G=(0,o._)("label",{for:"nomMsg"},"Nom",-1),Y=(0,o._)("p",{id:"nomMsgErrorMsg"},null,-1),K={class:"form-group"},F=(0,o._)("label",{for:"prenomMsg"},"Prenom",-1),R=(0,o._)("p",{id:"prenomMsgErrorMsg"},null,-1),Q={class:"form-group"},X=(0,o._)("label",{for:"workshop"},"Titre du service ou de l'atelier",-1),ee=(0,o._)("p",{id:"workshopErrorMsg"},null,-1),te={class:"form-group"},re=(0,o._)("label",{for:"description"},"Ecrire Description de l'atelier ou du service",-1),se=(0,o._)("p",{id:"descriptionErrorMsg"},null,-1),oe=(0,o._)("div",{class:"row"},[(0,o._)("h2",null,"Liste des services et activités")],-1),ne={class:"row"};function ae(e,t,r,n,a,i){const l=(0,o.up)("HelloWorld"),c=(0,o.up)("CardComponent"),p=(0,o.up)("CardWorkshop");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",m,[(0,o.Wm)(l)]),h,(0,o._)("div",f,[g,(0,o._)("form",null,[(0,o._)("div",v,[y,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"isAdmin","onUpdate:modelValue":t[0]||(t[0]=e=>a.isAdmin=e),"aria-describedby":"isAdmin",placeholder:"Entrer le mot de passe",required:""},null,512),[[s.nr,a.isAdmin]]),b]),(0,o._)("button",{type:"submit",onClick:t[1]||(t[1]=(0,s.iM)(((...e)=>i.verifyAdminData&&i.verifyAdminData(...e)),["stop","prevent"])),class:"btn btn-primary m-2"}," Envoyer ")])]),_,(0,o._)("div",w,[k,(0,o._)("form",E,[(0,o._)("div",A,[M,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"nom","onUpdate:modelValue":t[2]||(t[2]=e=>a.name=e),"aria-describedby":"nom",placeholder:"Entrer nom",pattern:"[A-Za-z]{2,10}[ -]?[A-Za-z]{2,10}",required:""},null,512),[[s.nr,a.name]]),D]),(0,o._)("div",C,[j,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"prenom","onUpdate:modelValue":t[3]||(t[3]=e=>a.firstname=e),"aria-describedby":"prenom",placeholder:"Entrer prenom",pattern:"[A-Za-z]{2,10}[ -]?[A-Za-z]{2,10}",required:""},null,512),[[s.nr,a.firstname]]),x]),(0,o._)("div",q,[S,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"pseudo","onUpdate:modelValue":t[4]||(t[4]=e=>a.pseudo=e),"aria-describedby":"pseudonyme",placeholder:"Entrer pseudo",pattern:"[A-Za-z]{2,10}[ -]?[A-Za-z]{2,10}",required:""},null,512),[[s.nr,a.pseudo]]),z]),(0,o._)("div",U,[V,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[5]||(t[5]=e=>a.email=e),"aria-describedby":"email",placeholder:"Entrer votre email",required:""},null,512),[[s.nr,a.email]]),T]),(0,o._)("div",O,[P,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"music","onUpdate:modelValue":t[6]||(t[6]=e=>a.music=e),required:""},null,512),[[s.nr,a.music]]),Z]),(0,o._)("button",{type:"submit",onClick:t[7]||(t[7]=(0,s.iM)(((...e)=>i.verifyUserData&&i.verifyUserData(...e)),["prevent"])),class:"btn btn-primary m-2"}," Envoyer ")])]),W,(0,o._)("div",I,[L,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.tableauUsers,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:e},[(0,o.Wm)(c,{user:e},null,8,["user"])])))),128))]),H,(0,o._)("div",N,[$,(0,o._)("form",B,[(0,o._)("div",J,[G,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"nomMsg","onUpdate:modelValue":t[8]||(t[8]=e=>a.nameMsg=e),"aria-describedby":"nom",placeholder:"Entrer nom",pattern:"[A-Za-z]{2,10}[ -]?[A-Za-z]{2,10}",required:""},null,512),[[s.nr,a.nameMsg]]),Y]),(0,o._)("div",K,[F,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"prenomMsg","onUpdate:modelValue":t[9]||(t[9]=e=>a.firstnameMsg=e),"aria-describedby":"prenom",placeholder:"Entrer prenom",pattern:"[A-Za-z]{2,10}[ -]?[A-Za-z]{2,10}",required:""},null,512),[[s.nr,a.firstnameMsg]]),R]),(0,o._)("div",Q,[X,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"workshop","onUpdate:modelValue":t[10]||(t[10]=e=>a.workshop=e),required:""},null,512),[[s.nr,a.workshop]]),ee]),(0,o._)("div",te,[re,(0,o.wy)((0,o._)("textarea",{rows:"3",class:"form-control",id:"description","onUpdate:modelValue":t[11]||(t[11]=e=>a.description=e),"aria-describedby":"description",placeholder:"Entrer description",required:""},null,512),[[s.nr,a.description]]),se]),(0,o._)("button",{type:"submit",onClick:t[12]||(t[12]=(0,s.iM)(((...e)=>i.verifyMessageData&&i.verifyMessageData(...e)),["stop","prevent"])),class:"btn btn-primary m-2"}," Envoyer ")])]),oe,(0,o._)("div",ne,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.tableauMsg,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-sm-12 col-md-6",key:e},[(0,o.Wm)(p,{wks:e},null,8,["wks"])])))),128))])])}var ie=r(6849);const le={src:ie,class:"img-fluid",alt:"Responsive image"};function ce(e,t){return(0,o.wg)(),(0,o.iD)("img",le)}const pe={},ue=(0,i.Z)(pe,[["render",ce]]);var de=ue,me=r(7139);const he={class:"container"},fe={class:"row border border-primary"},ge={class:"col-sm-2"},ve=(0,o._)("div",{class:"col-sm-2"},"Musique que j'aime",-1),ye={class:"col-sm-2"},be={class:"col-sm-2"},_e={key:0},we=(0,o._)("button",{class:"btn btn-success m-2"},"A payé et validé",-1),ke=[we],Ee={class:"col-sm-2"},Ae={key:0},Me={class:"col-sm-2"},De={key:0};function Ce(e,t,r,s,n,a){return(0,o.wg)(),(0,o.iD)("div",he,[(0,o._)("div",fe,[(0,o._)("div",ge,(0,me.zw)(n.userData.name)+" "+(0,me.zw)(n.userData.firstname),1),ve,(0,o._)("div",ye,(0,me.zw)(n.userData.music),1),(0,o._)("div",be,[n.userData.isValidPayment?((0,o.wg)(),(0,o.iD)("span",_e,ke)):(0,o.kq)("",!0)]),(0,o._)("div",Ee,["namaste"==n.accessLais?((0,o.wg)(),(0,o.iD)("span",Ae,[(0,o._)("button",{class:"btn btn-success m-2",onClick:t[0]||(t[0]=e=>a.validPayment(n.userData._id))},"Valider ou Invalider le paiement")])):(0,o.kq)("",!0)]),(0,o._)("div",Me,["namaste"==n.accessLais?((0,o.wg)(),(0,o.iD)("span",De,[(0,o._)("button",{class:"btn btn-danger m-2",onClick:t[1]||(t[1]=e=>a.deleteUser(n.userData._id))},"Supprimer l'utilisateur")])):(0,o.kq)("",!0)])])])}var je={name:"CardComponent",props:["user"],data(){return console.log("boom"),console.log(this.user),{userData:this.user,accessLais:localStorage.laisEvent.split("/")[1]}},methods:{validPayment(e){fetch("https://app-namaste.herokuapp.com/user/"+e,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:localStorage.laisEvent.split("/")[0]})}).then((()=>{this.$router.go()}))},deleteUser(e){fetch("https://app-namaste.herokuapp.com/user/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:localStorage.laisEvent.split("/")[0]})}).then((()=>{this.$router.go()}))}}};const xe=(0,i.Z)(je,[["render",Ce]]);var qe=xe;const Se={class:"card m-2",style:{width:"18rem"}},ze={class:"card-body"},Ue={class:"card-title"},Ve={class:"card-subtitle mb-2 text-muted"},Te={class:"card-text"};function Oe(e,t,r,s,n,a){return(0,o.wg)(),(0,o.iD)("div",Se,[(0,o._)("div",ze,[(0,o._)("h5",Ue,(0,me.zw)(n.wksData.workshop),1),(0,o._)("h6",Ve,"Emis par "+(0,me.zw)(n.wksData.name)+" "+(0,me.zw)(n.wksData.firstname),1),(0,o._)("p",Te,(0,me.zw)(n.wksData.description),1),"namaste"==n.accessLais?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-danger",onClick:t[0]||(t[0]=e=>a.deleteWks(n.wksData._id))},"Supprimer")):(0,o.kq)("",!0)])])}var Pe={name:"CardWorkshop",props:["wks"],data(){return{wksData:this.wks,accessLais:localStorage.laisEvent.split("/")[1]}},methods:{deleteWks(e){alert(e),fetch("https://app-namaste.herokuapp.com/workshop/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((()=>{this.$router.go()}))}}};const Ze=(0,i.Z)(Pe,[["render",Oe]]);var We=Ze;const Ie="https://app-namaste.herokuapp.com/workshop",Le="https://app-namaste.herokuapp.com/user";var He={name:"HomeView",components:{HelloWorld:de,CardComponent:qe,CardWorkshop:We},data(){return{isAdmin:"",tableauMsg:[],tableauUsers:[],firstname:"",name:"",pseudo:"",email:"",music:"",firstnameMsg:"",nameMsg:"",workshop:"",description:""}},methods:{verifyAdminData(){0<this.isAdmin.length<20?(localStorage.setItem("laisEvent",this.isAdmin+"/san"),this.$router.go()):document.getElementById("isAdminErrorMsg").textContent="Ce n est pas le bon mot de passe"},verifyUserData(){let e=!0;for(let t of document.querySelectorAll(".formulaireIns input"))"submit"!=t.getAttribute("type")&&(t.reportValidity()?document.getElementById(t.getAttribute("id").concat("ErrorMsg")).textContent="":(e=!1,document.getElementById(t.getAttribute("id").concat("ErrorMsg")).textContent="Vous avez mal complété ce champ"));e&&fetch("https://app-namaste.herokuapp.com/user",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({firstname:this.firstname,name:this.name,pseudo:this.pseudo,email:this.email,music:[this.music]})}).then((()=>{this.$router.go()}))},verifyMessageData(){let e=!0;for(let t of document.querySelectorAll(".formulaireWork input"))"submit"!=t.getAttribute("type")&&(t.reportValidity()?document.getElementById(t.getAttribute("id").concat("ErrorMsg")).textContent="":(e=!1,document.getElementById(t.getAttribute("id").concat("ErrorMsg")).textContent="Vous avez mal complété ce champ"));e&&fetch("https://app-namaste.herokuapp.com/workshop",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({firstname:this.firstnameMsg,name:this.nameMsg,workshop:this.workshop,description:this.description})}).then((()=>{this.$router.go()}))}},created(){(!localStorage.laisEvent||localStorage.laisEvent.length<4)&&localStorage.setItem("laisEvent","i/n"),fetch(Le,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e),this.tableauUsers=e})),fetch(Ie,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e),this.tableauMsg=e}))}};const Ne=(0,i.Z)(He,[["render",ae]]);var $e=Ne;const Be=[{path:"/",name:"home",component:$e}],Je=(0,u.p7)({history:(0,u.r5)(),routes:Be});var Ge=Je;(0,s.ri)(p).use(Ge).mount("#app")},6849:function(e,t,r){e.exports=r.p+"img/dessin.63f7a986.svg"}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,s,o,n){if(!s){var a=1/0;for(p=0;p<e.length;p++){s=e[p][0],o=e[p][1],n=e[p][2];for(var i=!0,l=0;l<s.length;l++)(!1&n||a>=n)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(i=!1,n<a&&(a=n));if(i){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[s,o,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p=""}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,a=s[0],i=s[1],l=s[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var p=l(r)}for(t&&t(s);c<a.length;c++)n=a[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(p)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(1690)}));s=r.O(s)})();
//# sourceMappingURL=app.885952d4.js.map